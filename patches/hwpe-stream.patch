diff --git a/rtl/basic/hwpe_stream_fence.sv b/rtl/basic/hwpe_stream_fence.sv
index ba8bc29..abec0cd 100644
--- a/rtl/basic/hwpe_stream_fence.sv
+++ b/rtl/basic/hwpe_stream_fence.sv
@@ -57,6 +57,7 @@ module hwpe_stream_fence #(
   logic [NB_STREAMS-1:0] in_valid;
   logic [NB_STREAMS-1:0] in_ready;
   logic                  out_valid;
+  logic                  out_ready;
   logic [NB_STREAMS-1:0] fence_state_q, fence_state_d;
   logic [NB_STREAMS-1:0][DATA_WIDTH-1:0]   data_q;
   logic [NB_STREAMS-1:0][DATA_WIDTH/8-1:0] strb_q;
@@ -66,7 +67,7 @@ module hwpe_stream_fence #(
 
       assign in_valid[ii] = push_i[ii].valid;
 
-      assign push_i[ii].ready = pop_o[ii].ready & ~fence_state_q[ii];
+      assign push_i[ii].ready = ~fence_state_q[ii];
 
       assign pop_o[ii].valid = out_valid;
       assign pop_o[ii].data  = fence_state_q[ii] ? data_q[ii] : push_i[ii].data;
@@ -97,12 +98,14 @@ module hwpe_stream_fence #(
 
   always_comb
   begin
-    fence_state_d = '0;
+    fence_state_d = fence_state_q | in_valid;
     out_valid = 1'b0;
-    if(&(in_valid | fence_state_q))
+    out_ready = pop_o[0].ready & pop_o[1].ready; // both should have the same ready value
+    if(&(in_valid | fence_state_q)) begin
       out_valid = 1'b1;
-    else
-      fence_state_d = fence_state_q | in_valid;
+      if(out_ready)
+        fence_state_d = '0;
+    end
   end
 
   always_ff @(posedge clk_i or negedge rst_ni)
